(this["webpackJsonpoengus-submission-viewer"]=this["webpackJsonpoengus-submission-viewer"]||[]).push([[0],{16:function(e,t,n){e.exports=n(26)},21:function(e,t,n){},25:function(e,t,n){},26:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(14),i=n.n(c),l=(n(21),n(7)),o=n(2),s=n(1),u=n.n(s),d=n(15),v=n.n(d);n(25);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function f(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var h=r.a.createElement("path",{fill:"currentColor",d:"M488 64h-8v20c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12V64H96v20c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12V64h-8C10.7 64 0 74.7 0 88v336c0 13.3 10.7 24 24 24h8v-20c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v20h320v-20c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v20h8c13.3 0 24-10.7 24-24V88c0-13.3-10.7-24-24-24zM96 372c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm272 208c0 6.6-5.4 12-12 12H156c-6.6 0-12-5.4-12-12v-96c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v96zm0-168c0 6.6-5.4 12-12 12H156c-6.6 0-12-5.4-12-12v-96c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v96zm112 152c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40z"}),p=function(e){var t=e.svgRef,n=e.title,a=f(e,["svgRef","title"]);return r.a.createElement("svg",m({"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"film",className:"svg-inline--fa fa-film fa-w-16",role:"img",viewBox:"0 0 512 512",ref:t},a),n?r.a.createElement("title",null,n):null,h)},y=r.a.forwardRef((function(e,t){return r.a.createElement(p,m({svgRef:t},e))})),g=(n.p,"https://oengus.io/api/");function E(e){var t,n;return u.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,u.a.awrap(fetch(e));case 2:return t=a.sent,a.next=5,u.a.awrap(t.json());case 5:return n=a.sent,a.abrupt("return",n);case 7:case"end":return a.stop()}}))}var w=function(){var e;return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e="".concat(g,"marathon"),t.next=3,u.a.awrap(E(e));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},b=function(e){return E("".concat(g,"marathon/").concat(e))},x=function(e){return E("".concat(g,"marathon/").concat(e,"/game"))},O=function(e){return E("".concat(g,"marathon/").concat(e,"/selection"))},k=function(e,t){return t=(t=(t=(t=(t=(t=(t=t.replace(/yyyy/g,"".concat(e.getFullYear()))).replace(/MM/g,("0"+(e.getMonth()+1)).slice(-2))).replace(/dd/g,("0"+e.getDate()).slice(-2))).replace(/HH/g,("0"+e.getHours()).slice(-2))).replace(/mm/g,("0"+e.getMinutes()).slice(-2))).replace(/ss/g,("0"+e.getSeconds()).slice(-2))).replace(/SSS/g,("00"+e.getMilliseconds()).slice(-3))};function S(e,t){var n=e.map((function(e){return e[t]}));return e.filter((function(e,a){return n.indexOf(e[t])===a}))}var j=function(e,t,n){return function(){var a=document.getElementById("".concat(e,"_desc_").concat(t));if(a){var r=a.style;r.display=n||("none"===r.display?"block":"none")}}},D=function(e){return r.a.createElement("div",{style:{height:"100%"}},r.a.createElement("div",{style:{height:20,textAlign:"right"}},r.a.createElement("input",{type:"button",value:"\xd7",onClick:function(){return e.closeFunc()}})),r.a.createElement("div",{style:{height:"calc(100% - 50px)"}},r.a.createElement("div",{style:{fontSize:20}},e.marathon.name),r.a.createElement("div",null,"\u958b\u59cb\uff1a",k(new Date(e.marathon.startDate),"yyyy/MM/dd HH:mm")),r.a.createElement("div",null,"\u7d42\u4e86\uff1a",k(new Date(e.marathon.endDate),"yyyy/MM/dd HH:mm")),r.a.createElement("hr",null),r.a.createElement("div",{style:{overflowY:"scroll",height:"calc(100% - 80px)",textAlign:"initial",fontSize:"small"}},r.a.createElement("div",{dangerouslySetInnerHTML:{__html:v()(e.marathon.description)}}))))},C=function(){var e=r.a.useState([]),t=Object(o.a)(e,2),n=t[0],a=t[1],c=r.a.useState(!0),i=Object(o.a)(c,2),s=i[0],d=i[1],v=r.a.useState(""),m=Object(o.a)(v,2),f=m[0],h=m[1],p=r.a.useState(),g=Object(o.a)(p,2),E=g[0],k=g[1],C=r.a.useState([]),H=Object(o.a)(C,2),N=H[0],A=H[1],T=r.a.useState({}),_=Object(o.a)(T,2),M=_[0],z=_[1],R=r.a.useState(!1),J=Object(o.a)(R,2),B=J[0],W=J[1],I=r.a.useState(!1),L=Object(o.a)(I,2),P=L[0],U=L[1],V=r.a.useState(!1),F=Object(o.a)(V,2),Y=F[0],$=F[1],q=r.a.useState(""),G=Object(o.a)(q,2),K=G[0],Q=G[1],X=r.a.useState(!1),Z=Object(o.a)(X,2),ee=Z[0],te=Z[1];r.a.useEffect((function(){!function(){var e,t,n;u.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,u.a.awrap(w());case 3:e=r.sent,t=[].concat(Object(l.a)(e.live),Object(l.a)(e.open),Object(l.a)(e.next)),(n=S(t,"id")).sort((function(e,t){return e.name>t.name?1:e.name<t.name?-1:0})),a(n),r.next=12;break;case 10:r.prev=10,r.t0=r.catch(0);case 12:case"end":return r.stop()}}),null,null,[[0,10]])}()}),[]),r.a.useEffect((function(){te(!0);var e=f;if(s){if(window.location.search){var t=window.location.search.match(/marathon=(.*)/);t&&2===(null===t||void 0===t?void 0:t.length)&&(h(t[1]),e=t[1])}d(!1)}if(!e)return k(void 0),Q("\u30a4\u30d9\u30f3\u30c8\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),A([]),void te(!1);Q("\u30c7\u30fc\u30bf\u53d6\u5f97\u4e2d...");!function(e){var t,n,a;u.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,u.a.awrap(b(e));case 3:return t=r.sent,k(t),r.next=7,u.a.awrap(x(e));case 7:if(n=r.sent,!t.selectionDone){r.next=13;break}return r.next=11,u.a.awrap(O(e));case 11:a=r.sent,z(a);case 13:A(n),Q("\u5fdc\u52df\u30b2\u30fc\u30e0\u6570\uff1a".concat(n.length)),r.next=20;break;case 17:r.prev=17,r.t0=r.catch(0),Q("\u30c7\u30fc\u30bf\u53d6\u5f97\u3067\u30a8\u30e9\u30fc\u304c\u3042\u308a\u307e\u3057\u305f\u3002");case 20:return r.prev=20,te(!1),r.finish(20);case 23:case"end":return r.stop()}}),null,null,[[0,17,20,23]])}(e)}),[f]);return r.a.createElement("div",{className:"App"},P&&E&&r.a.createElement("div",{className:"modal"},r.a.createElement(D,{marathon:E,closeFunc:function(){return U(!1)}})),!P&&r.a.createElement("div",null,r.a.createElement("div",{className:"header"},r.a.createElement("div",null,r.a.createElement("select",{value:f,onChange:function(e){return h(e.target.value)},disabled:ee},r.a.createElement("option",{value:""},"-"),n.map((function(e,t){return r.a.createElement("option",{key:"".concat(e.id,"_").concat(t),value:e.id},e.name)})))),r.a.createElement("div",{style:{visibility:E?"visible":"hidden"}},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{style:{width:"calc(100% - 250px)"}},r.a.createElement("input",{type:"button",value:"\u6982\u8981\u3092\u898b\u308b",onClick:function(){return U(!0)}})),r.a.createElement("div",{style:{width:"calc(100% - 250px)"}},r.a.createElement("input",{type:"button",value:"\u5fdc\u52df\u306e\u4e00\u62ec\u958b\u9589",onClick:function(){var e=Y?"none":"block",t=!0,n=!1,a=void 0;try{for(var r,c=N[Symbol.iterator]();!(t=(r=c.next()).done);t=!0){var i=r.value;j("game",i.id,e)();var l=!0,o=!1,s=void 0;try{for(var u,d=i.categories[Symbol.iterator]();!(l=(u=d.next()).done);l=!0){var v=u.value;j("category",v.id,e)()}}catch(m){o=!0,s=m}finally{try{l||null==d.return||d.return()}finally{if(o)throw s}}}}catch(m){n=!0,a=m}finally{try{t||null==c.return||c.return()}finally{if(n)throw a}}$(!Y)}})),r.a.createElement("div",{style:{visibility:(null===E||void 0===E?void 0:E.selectionDone)?"visible":"hidden"}},r.a.createElement("label",{htmlFor:"filter_check"},"\u5f53\u9078\u306e\u307f"),r.a.createElement("input",{id:"filter_check",type:"checkbox",onChange:function(){return W(!B)},checked:B}))))),r.a.createElement("div",{style:{textAlign:"left",display:"flex",justifyContent:"center"}},r.a.createElement("div",{style:{display:"block",width:1e3}},r.a.createElement("div",{className:"message"},K),N.map((function(e){var t="",n={TODO:0,VALIDATED:0,REJECTED:0,BONUS:0},a=!0,c=!1,i=void 0;try{for(var l,o=e.categories[Symbol.iterator]();!(a=(l=o.next()).done);a=!0){var s=l.value;M[s.id]?n[M[s.id].status]+=1:n.TODO+=1}}catch(u){c=!0,i=u}finally{try{a||null==o.return||o.return()}finally{if(c)throw i}}return t=n.VALIDATED>0?"validated":n.BONUS>0?"bonus":n.TODO>0?"":"rejected",B&&n.REJECTED===e.categories.length?"":r.a.createElement("div",{key:e.id,className:"submissionBase"},r.a.createElement("div",{className:t,onClick:j("game",e.id)},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{style:{width:70}},"\u30b2\u30fc\u30e0\uff1a"),r.a.createElement("div",{style:{width:"calc(100% - 70px)"}},e.name)),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{style:{width:70}},"\u8d70\u8005\uff1a"),r.a.createElement("div",{style:{width:"calc(100% - 70px)"}},e.user.usernameJapanese?e.user.usernameJapanese:e.user.username)),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{style:{width:70}},"\u6a5f\u7a2e\uff1a"),r.a.createElement("div",{style:{width:"calc(100% - 70px)"}},e.console)),r.a.createElement("div",{id:"game_desc_".concat(e.id),style:{display:"none",clear:"both"}},e.description)),r.a.createElement("hr",null),e.categories.map((function(e){var t=M[e.id]?M[e.id].status:"TODO";if(B&&"REJECTED"===t)return"";var n=function(e){switch(e){case"VALIDATED":return"validated";case"REJECTED":return"rejected";case"BONUS":return"bonus";default:return""}}(t);return r.a.createElement("div",{key:e.id,className:n},r.a.createElement("div",{onClick:j("category",e.id)},r.a.createElement("div",{key:e.id,style:{display:"flex"}},r.a.createElement("div",{className:"categoryName"},e.name),r.a.createElement("div",{style:{width:70}},function(e){var t="",n=e.match(/(\d+)H/);n&&2===n.length?t+="".concat(n[1],":").padStart(3,"0"):t+="00:";var a=e.match(/(\d+)M/);a&&2===a.length?t+="".concat(a[1],":").padStart(3,"0"):t+="00:";var r=e.match(/(\d+)S/);return r&&2===r.length?t+="".concat(r[1]).padStart(2,"0"):t+="00",t}(e.estimate)),r.a.createElement("div",{style:{width:20},onClick:function(e){return e.stopPropagation()}},r.a.createElement("a",{href:e.video,target:"_blank",rel:"noopener noreferrer"},r.a.createElement(y,{style:{height:15,color:"#b58900"}})))),r.a.createElement("div",null,e.opponentDtos.map((function(t){return r.a.createElement("div",{key:"".concat(e.id,"_").concat(t.id),style:{display:"flex"}},r.a.createElement("div",{style:{width:"calc(100% - 20px)"}},e.type,"\uff1a",t.user.usernameJapanese?t.user.usernameJapanese:t.user.username),r.a.createElement("div",{style:{width:20}},r.a.createElement("a",{href:t.video,target:"_blank",rel:"noopener noreferrer"},r.a.createElement(y,{style:{height:15,color:"#b58900"}}))))})))),r.a.createElement("div",{id:"category_desc_".concat(e.id),style:{display:"none",clear:"both"}},e.description),r.a.createElement("hr",{className:"categoryLine"}))})))}))))))},H=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function N(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(r.a.createElement(C,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat(".","/service-worker.js");H?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):N(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):N(t,e)}))}}()}},[[16,1,2]]]);
//# sourceMappingURL=main.194a3a0a.chunk.js.map