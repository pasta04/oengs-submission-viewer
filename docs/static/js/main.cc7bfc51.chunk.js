(this["webpackJsonpoengus-submission-viewer"]=this["webpackJsonpoengus-submission-viewer"]||[]).push([[0],{16:function(e,t,a){e.exports=a(26)},21:function(e,t,a){},25:function(e,t,a){},26:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(14),i=a.n(c),l=(a(21),a(7)),o=a(2),s=a(1),u=a.n(s),d=a(15),v=a.n(d);a(25);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function h(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var f=r.a.createElement("path",{fill:"currentColor",d:"M488 64h-8v20c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12V64H96v20c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12V64h-8C10.7 64 0 74.7 0 88v336c0 13.3 10.7 24 24 24h8v-20c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v20h320v-20c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v20h8c13.3 0 24-10.7 24-24V88c0-13.3-10.7-24-24-24zM96 372c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm272 208c0 6.6-5.4 12-12 12H156c-6.6 0-12-5.4-12-12v-96c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v96zm0-168c0 6.6-5.4 12-12 12H156c-6.6 0-12-5.4-12-12v-96c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v96zm112 152c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40z"}),p=function(e){var t=e.svgRef,a=e.title,n=h(e,["svgRef","title"]);return r.a.createElement("svg",m({"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"film",className:"svg-inline--fa fa-film fa-w-16",role:"img",viewBox:"0 0 512 512",ref:t},n),a?r.a.createElement("title",null,a):null,f)},y=r.a.forwardRef((function(e,t){return r.a.createElement(p,m({svgRef:t},e))})),g=(a.p,"https://oengus.io/api/");function E(e){var t,a;return u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.a.awrap(fetch(e));case 2:return t=n.sent,n.next=5,u.a.awrap(t.json());case 5:return a=n.sent,n.abrupt("return",a);case 7:case"end":return n.stop()}}))}var w=function(){var e;return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e="".concat(g,"marathon"),t.next=3,u.a.awrap(E(e));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},b=function(e){return E("".concat(g,"marathon/").concat(e))},x=function(e){return E("".concat(g,"marathon/").concat(e,"/game"))},O=function(e){return E("".concat(g,"marathon/").concat(e,"/selection"))},k=function(e,t){return t=(t=(t=(t=(t=(t=(t=t.replace(/yyyy/g,"".concat(e.getFullYear()))).replace(/MM/g,("0"+(e.getMonth()+1)).slice(-2))).replace(/dd/g,("0"+e.getDate()).slice(-2))).replace(/HH/g,("0"+e.getHours()).slice(-2))).replace(/mm/g,("0"+e.getMinutes()).slice(-2))).replace(/ss/g,("0"+e.getSeconds()).slice(-2))).replace(/SSS/g,("00"+e.getMilliseconds()).slice(-3))},S=function(e,t){return function(){var a=document.getElementById("".concat(e,"_desc_").concat(t));if(a){var n=a.style;n.display="none"===n.display?"block":"none"}}},j=function(e){return r.a.createElement("div",{style:{height:"100%"}},r.a.createElement("div",{style:{height:20,textAlign:"right"}},r.a.createElement("input",{type:"button",value:"\xd7",onClick:function(){return e.closeFunc()}})),r.a.createElement("div",{style:{height:"calc(100% - 50px)"}},r.a.createElement("div",{style:{fontSize:20}},e.marathon.name),r.a.createElement("div",null,"\u958b\u59cb\uff1a",k(new Date(e.marathon.startDate),"yyyy/MM/dd HH:mm")),r.a.createElement("div",null,"\u7d42\u4e86\uff1a",k(new Date(e.marathon.endDate),"yyyy/MM/dd HH:mm")),r.a.createElement("hr",null),r.a.createElement("div",{style:{overflowY:"scroll",height:"calc(100% - 80px)",textAlign:"initial",fontSize:"small"}},r.a.createElement("div",{dangerouslySetInnerHTML:{__html:v()(e.marathon.description)}}))))},D=function(){var e=r.a.useState([]),t=Object(o.a)(e,2),a=t[0],n=t[1],c=r.a.useState(!0),i=Object(o.a)(c,2),s=i[0],d=i[1],v=r.a.useState(""),m=Object(o.a)(v,2),h=m[0],f=m[1],p=r.a.useState(),g=Object(o.a)(p,2),E=g[0],k=g[1],D=r.a.useState([]),C=Object(o.a)(D,2),H=C[0],N=C[1],A=r.a.useState({}),T=Object(o.a)(A,2),M=T[0],_=T[1],z=r.a.useState(!1),R=Object(o.a)(z,2),J=R[0],B=R[1],W=r.a.useState(!1),I=Object(o.a)(W,2),L=I[0],P=I[1],U=r.a.useState(""),V=Object(o.a)(U,2),F=V[0],Y=V[1],$=r.a.useState(!1),q=Object(o.a)($,2),G=q[0],K=q[1];r.a.useEffect((function(){!function(){var e,t;u.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,u.a.awrap(w());case 3:e=a.sent,t=[].concat(Object(l.a)(e.live),Object(l.a)(e.open),Object(l.a)(e.next)),n(t),a.next=10;break;case 8:a.prev=8,a.t0=a.catch(0);case 10:case"end":return a.stop()}}),null,null,[[0,8]])}()}),[]),r.a.useEffect((function(){K(!0);var e=h;if(s){if(window.location.search){var t=window.location.search.match(/marathon=(.*)/);t&&2===(null===t||void 0===t?void 0:t.length)&&(f(t[1]),e=t[1])}d(!1)}if(!e)return k(void 0),Y("\u30a4\u30d9\u30f3\u30c8\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),N([]),void K(!1);Y("\u30c7\u30fc\u30bf\u53d6\u5f97\u4e2d...");!function(e){var t,a,n;u.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,u.a.awrap(b(e));case 3:return t=r.sent,k(t),r.next=7,u.a.awrap(x(e));case 7:if(a=r.sent,!t.selectionDone){r.next=13;break}return r.next=11,u.a.awrap(O(e));case 11:n=r.sent,_(n);case 13:N(a),Y("\u5fdc\u52df\u30b2\u30fc\u30e0\u6570\uff1a".concat(a.length)),r.next=20;break;case 17:r.prev=17,r.t0=r.catch(0),Y("\u30c7\u30fc\u30bf\u53d6\u5f97\u3067\u30a8\u30e9\u30fc\u304c\u3042\u308a\u307e\u3057\u305f\u3002");case 20:return r.prev=20,K(!1),r.finish(20);case 23:case"end":return r.stop()}}),null,null,[[0,17,20,23]])}(e)}),[h]);return r.a.createElement("div",{className:"App"},L&&E&&r.a.createElement("div",{className:"modal"},r.a.createElement(j,{marathon:E,closeFunc:function(){return P(!1)}})),!L&&r.a.createElement("div",null,r.a.createElement("div",{className:"header"},r.a.createElement("div",null,r.a.createElement("select",{value:h,onChange:function(e){return f(e.target.value)},disabled:G},r.a.createElement("option",{value:""},"-"),a.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)})))),r.a.createElement("div",{style:{visibility:E?"visible":"hidden"}},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{style:{width:"calc(100% - 130px)"}},r.a.createElement("input",{type:"button",value:"\u6982\u8981\u3092\u898b\u308b",onClick:function(){return P(!0)}})),r.a.createElement("div",{style:{visibility:(null===E||void 0===E?void 0:E.selectionDone)?"visible":"hidden"}},r.a.createElement("label",{htmlFor:"filter_check"},"\u5f53\u9078\u306e\u307f"),r.a.createElement("input",{id:"filter_check",type:"checkbox",onChange:function(){return B(!J)},checked:J}))))),r.a.createElement("div",{style:{textAlign:"left"}},r.a.createElement("div",{className:"message"},F),H.map((function(e){var t="",a={TODO:0,VALIDATED:0,REJECTED:0,BONUS:0},n=!0,c=!1,i=void 0;try{for(var l,o=e.categories[Symbol.iterator]();!(n=(l=o.next()).done);n=!0){var s=l.value;M[s.id]?a[M[s.id].status]+=1:a.TODO+=1}}catch(u){c=!0,i=u}finally{try{n||null==o.return||o.return()}finally{if(c)throw i}}return t=a.VALIDATED>0?"validated":a.BONUS>0?"bonus":a.TODO>0?"":"rejected",J&&a.REJECTED===e.categories.length?"":r.a.createElement("div",{key:e.id,className:"submissionBase"},r.a.createElement("div",{className:t,onClick:S("game",e.id)},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{style:{width:70}},"\u30b2\u30fc\u30e0\uff1a"),r.a.createElement("div",{style:{width:"calc(100% - 70px)"}},e.name)),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{style:{width:70}},"\u8d70\u8005\uff1a"),r.a.createElement("div",{style:{width:"calc(100% - 70px)"}},e.user.usernameJapanese?e.user.usernameJapanese:e.user.username)),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{style:{width:70}},"\u6a5f\u7a2e\uff1a"),r.a.createElement("div",{style:{width:"calc(100% - 70px)"}},e.console)),r.a.createElement("div",{id:"game_desc_".concat(e.id),style:{display:"none",clear:"both"}},e.description)),r.a.createElement("hr",null),e.categories.map((function(e){var t=M[e.id]?M[e.id].status:"TODO";if(J&&"REJECTED"===t)return"";var a=function(e){switch(e){case"VALIDATED":return"validated";case"REJECTED":return"rejected";case"BONUS":return"bonus";default:return""}}(t);return r.a.createElement("div",{key:e.id,className:a},r.a.createElement("div",{onClick:S("category",e.id)},r.a.createElement("div",{key:e.id,style:{display:"flex"}},r.a.createElement("div",{className:"categoryName"},e.name),r.a.createElement("div",{style:{width:70}},function(e){var t="",a=e.match(/(\d+)H/);a&&2===a.length?t+="".concat(a[1],":").padStart(3,"0"):t+="00:";var n=e.match(/(\d+)M/);n&&2===n.length?t+="".concat(n[1],":").padStart(3,"0"):t+="00:";var r=e.match(/(\d+)S/);return r&&2===r.length?t+="".concat(r[1]).padStart(2,"0"):t+="00",t}(e.estimate)),r.a.createElement("div",{style:{width:20},onClick:function(e){return e.stopPropagation()}},r.a.createElement("a",{href:e.video,target:"_blank",rel:"noopener noreferrer"},r.a.createElement(y,{style:{height:15,color:"#b58900"}})))),r.a.createElement("div",null,e.opponentDtos.map((function(t){return r.a.createElement("div",{key:"".concat(e.id,"_").concat(t.id),style:{display:"flex"}},r.a.createElement("div",{style:{width:"calc(100% - 20px)"}},e.type,"\uff1a",t.user.usernameJapanese?t.user.usernameJapanese:t.user.username),r.a.createElement("div",{style:{width:20}},r.a.createElement("a",{href:t.video,target:"_blank",rel:"noopener noreferrer"},r.a.createElement(y,{style:{height:15,color:"#b58900"}}))))})))),r.a.createElement("div",{id:"category_desc_".concat(e.id),style:{display:"none",clear:"both"}},e.description),r.a.createElement("hr",{className:"categoryLine"}))})))})))))},C=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function H(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(r.a.createElement(D,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat(".","/service-worker.js");C?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):H(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):H(t,e)}))}}()}},[[16,1,2]]]);
//# sourceMappingURL=main.cc7bfc51.chunk.js.map